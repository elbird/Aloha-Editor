<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Aloha Editor Docs</title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">
		<link rel="icon" href="favicon.ico">
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
		<!-- Custom styles for this template -->
		<link href="css/aloha-web.css" rel="stylesheet">
		<link href="css/aloha-docs.css" rel="stylesheet">
		<link rel="stylesheet" href="codemirror-4.2/lib/codemirror.css">
	</head>
	<body>

	    <div class="navbar navbar-default navbar-fixed-top funky" role="navigation">
	    	<div class="container">
	    		<div class="navbar-header">
	    		<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
					<a class="navbar-brand" href="http://www.aloha-editor.org"><img src="logo-small.png" alt="Aloha Editor" title="Aloha Editor"/></a>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav navbar-right">
						<li><a href="index.html">Docs Home</a></li>
						<li><a href="http://github.com/alohaeditor/Aloha-Editor" target="_blank">Github</a></li>
					</ul>
				</div>
			</div>
		</div>

		<div id="post" class="container post">
			<div class="row">
				<div class="col-md-12">

			<h1>Aloha Editor Integration</h1>

			<p>
				After loading Aloha Editor and creating editable regions on your page, 
				as described in our <a href="quickstart.html">Quickstart</a> guide,
				you will want to integrate Aloha Editor with your Application.
			</p>

			<h2>Integrating Aloha Editor with your application</h2>

			<p>
				To integrate Aloha Editor with your application you will need to know about
				two important things:
			</p>

			<ol>
				<li>Aloha Editor's API is stateless</li>
				<li>Editing operations are process by the Editor Stack</li>
			</ol>

			<h3>Aloha Editor's API is stateless</h3>

			<p>
				Aloha Editor follows the functional programming paradigm, which means that
				the API is stateless. You will not invoke methods of an object, but
				rather use functions, that ask you to pass them all the information they
				need to complete their job.
			</p>

			<p>
				Since we need to keep some state after all, there is a central place where
				state ist kept: <code>aloha.editor</code>. You can always have a look at what
				is stored there:
			</p>

			<textarea id="example-stack-list" class="example">console.dir(aloha.editor);</textarea>

			<p>Open your console, to see what's currently on the stack.</p>

			<button class="btn btn-lg" onclick="executeExample('example-stack-list')">Execute Example</button>

			<h3>Editing operations are process by the Editor Stack</h3>

			<p>
				The Editor Stack is an array of functions, that will be executed for all
				events that are somewhat related to Aloha Editor and your editables. So clicking inside
				an editable as well as typing to enter text inside an editable will all trigger events
				that are processed by the Editor Stack. The Editor Stack resides at 
				<code>aloha.editor.stack</code> and is processed from bottom to the top: 
				the last entry in the array is executed first.
			</p>

			<p>
				To integrate your code with Aloha Editor you need to put a handler function on
				the stack.
			</p>

			<textarea id="example-stack-push" class="example">function myHandler(event) {
    console.log(event);
    return event;
}
aloha.editor.stack.push(myHandler);</textarea>

			<button class="btn btn-lg" onclick="executeExample('example-stack-push')">Execute Example</button>

			<div class="aloha-editable">Type here and take a look at your console to see what the handler does.</div>

			<p>
				Functions that you put on the stack must follow a contract:
			</p>

			<ol>
				<li>They will receive one parameter, the <code>event</code></li>
				<li>They must return the <code>event</code> after processing</li>
			</ol>			
			
			<p>
				The <code>event</code> object that your handler receives contains the native browser event
				at <code>.nativeEvent</code> and will also come with some additional information
				like the current selection or the editable you're in. You're welcome to modify the event
				object - most likely you will eg. want to update the selection, before your return it.
			</p>

			<p>
				After putting a handler function on the Editor Stack you are hooked into Aloha Editor
				and ready to code your app.
			</p>
				</div>
				<div id="disqus_thread" class="col-md-12"></div>
			</div>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/aloha.min.js"></script>
		<script src="js/aloha-web.js"></script>
		<script src="codemirror-4.2/lib/codemirror.js"></script>
		<script src="codemirror-4.2/mode/javascript/javascript.js"></script>
		<script src="js/aloha-docs.js"></script>
		<script>[].forEach.call(document.querySelectorAll('.aloha-editable'), aloha);</script>
		<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-17460389-2', 'auto'); ga('require', 'displayfeatures'); ga('send', 'pageview');</script>
	    <script type="text/javascript">
var disqus_shortname = 'alohaeditor';
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
	    </script>
	</body>
</html>