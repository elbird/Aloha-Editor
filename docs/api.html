<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Aloha Editor Docs</title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">
		<link rel="icon" href="favicon.ico">
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
		<!-- Custom styles for this template -->
		<link href="css/aloha-web.css" rel="stylesheet">
		<link href="css/aloha-docs.css" rel="stylesheet">
		<link rel="stylesheet" href="codemirror-4.2/lib/codemirror.css">
	</head>
	<body>

	    <div class="navbar navbar-default navbar-fixed-top funky" role="navigation">
	    	<div class="container">
	    		<div class="navbar-header">
	    		<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
					<a class="navbar-brand" href="http://www.aloha-editor.org"><img src="logo-small.png" alt="Aloha Editor" title="Aloha Editor"/></a>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav navbar-right">
						<li><a href="index.html">Docs Home</a></li>
						<li><a href="http://github.com/alohaeditor/Aloha-Editor" target="_blank">Github</a></li>
					</ul>
				</div>
			</div>
		</div>

		<div id="post" class="container post">
			<div class="row">
				<div class="col-md-12">

					<h1>Aloha Editor API Introduction</h1>

					<p>
						The Aloha Editor API allows you to complete a multitude of tasks.
						For our introduction we want to show you how to insert new content
						using the Aloha Editor API.
					</p>

					<textarea id="example-api-intro" class="example">var element = aloha.html.parse('<b style="background: #ffd47e">Hello!</b>', document)[0];
var boundary = aloha.boundaries.create(document.querySelector('#api-intro').firstChild, 28);
aloha.editing.insert(boundary, boundary, element);
var endBoundary = aloha.boundaries.fromBehindOfNode(element);
aloha.editor.selection = aloha.selections.select(aloha.editor.selection, endBoundary, endBoundary);
					</textarea>

					<button class="btn btn-lg" onclick="executeExample('example-api-intro')">Execute Example</button>
				</div>
				<div class="col-md-6">
					<h3>HTML Code</h3>
					<pre><code>&lt;div id="api-intro" class="aloha-editable"&gt;
	We want to insert something &lt;== here.
&lt;/div&gt;</code></pre>
				</div>
				<div class="col-md-6">
					<h3>Result</h3>
					<div id="api-intro" class="aloha-editable">We want to insert something &lt;== here.</div>
				</div>
				<div class="col-md-12">
					<h2>
						So, what's going on here?
					</h2>

					<p>
						First, we create a new DOM element using Aloha Editors <code>parse</code> function. 
						<code>parse</code> will return an array of created nodes, but in our example we're 
						only interested in the first one.
					</p>

					<p>
						In the next step we will need to figure out, where we want to insert our new node.
						For this, we will use a <code>Boundary</code>, which can be created using
						<code>aloha.boundaries.create</code>. The function will ask you to pass a
						node and an offset as parameters. In our example we pass the text node from the
						example area along with an offset of 28 characters.
					</p>

					<p>
						<code>aloha.editing.insert</code> finally inserts the element at the boundary position.
					</p>

					<p>
						The last two lines of code are dedicated to update the editor's caret. First we
						need to create a boundary for where we want to put the caret. Then we will
						update the selection so the user can start typing right after the new node.
					</p>
				</div>
				<div id="disqus_thread" class="col-md-12"></div>
			</div>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/aloha.min.js"></script>
		<script src="js/aloha-web.js"></script>
		<script src="codemirror-4.2/lib/codemirror.js"></script>
		<script src="codemirror-4.2/mode/javascript/javascript.js"></script>
		<script src="js/aloha-docs.js"></script>
		<script>[].forEach.call(document.querySelectorAll('.aloha-editable'), aloha);</script>
		<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-17460389-2', 'auto'); ga('require', 'displayfeatures'); ga('send', 'pageview');</script>
	    <script type="text/javascript">
var disqus_shortname = 'alohaeditor';
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
	    </script>

	</body>
</html>